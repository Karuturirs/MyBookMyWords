<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Mocktailbird container setup - MyBook MyWords</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="../Nvim_cheats.html"><strong aria-hidden="true">1.</strong> NeoVim Editor Cheats</a></li><li><a href="../Bash-commands-daytoday.html"><strong aria-hidden="true">2.</strong> Bash cmd</a></li><li><a href="../ALGO.html"><strong aria-hidden="true">3.</strong> Algorithms Learning</a></li><li><a href="../curl-cheats.html"><strong aria-hidden="true">4.</strong> Curl</a></li><li><a href="../Rust-learning.html"><strong aria-hidden="true">5.</strong> Rust Learning</a></li><li><a href="../Docker-Learning.html"><strong aria-hidden="true">6.</strong> Docker Cheats</a></li><li><a href="../Kubernetes.html"><strong aria-hidden="true">7.</strong> Kubernetes</a></li><li><a href="../mocktailbird.html"><strong aria-hidden="true">8.</strong> Mocktailbird</a></li><li><ol class="section"><li><a href="../mocktailbird/Mongodb.html"><strong aria-hidden="true">8.1.</strong> Mongodb container setup</a></li><li><a href="../mocktailbird/SettingUpMocktailBird.html" class="active"><strong aria-hidden="true">8.2.</strong> Mocktailbird container setup</a></li><li><a href="../mocktailbird/MocktailBird-docker-cmd.html"><strong aria-hidden="true">8.3.</strong> Mocktailbird docker cmd</a></li></ol></li><li><a href="../Python-learning.html"><strong aria-hidden="true">9.</strong> Python</a></li><li><a href="../ReadBooks-cheats.html"><strong aria-hidden="true">10.</strong> Personal</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">MyBook MyWords</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#-bird-setup" id="-bird-setup">üçπ :bird: setup</a></h1>
<p>Docker hub repository for <a href="https://cloud.docker.com/repository/docker/mocktailbird/mocktail-bird">mocktailbird</a> üçπ :bird:</p>
<h5><a class="header" href="#-tag-information" id="-tag-information">üèñÔ∏è Tag Information:</a></h5>
<p>‚Äã	<b>qa</b> : base tag for users to deploy mocktail bird on any machine with latest master.</p>
<p>‚Äã	<b>1.0.0</b> : Stable base release for production( Still underdevelopment)</p>
<h5><a class="header" href="#factory-set-up" id="factory-set-up">:factory: Set Up:</a></h5>
<ol start="0">
<li>
<p><a href="https://docs.docker.com/docker-for-mac/install/">Install Docker</a></p>
</li>
<li>
<p>:two_men_holding_hands: ‚ÄãCreating docker network bridge</p>
<p><code> docker network create -d bridge mongodb</code></p>
<p>‚úîÔ∏è check if all is well:</p>
<p>‚Äã	<code>docker network ls</code></p>
</li>
<li>
<p>:minidisc: Mongodb container setup</p>
<pre><code class="language-cmd">docker run -it -p 27017:27017 --network=mongodb --mount source=mock,destination=/data/db/ --name mocktail-bird-mongo mongo:3.6.11-stretch
</code></pre>
<p>‚Äã	<i>* network mongodb should be the one given as from the step 1 creating docker network driver.</i></p>
<p>‚Äã	<i>* name mocktail-bird-mongo is the name of mongodb container.</i></p>
</li>
<li>
<p>:closed_lock_with_key: ‚ÄãDB Authentication.</p>
<p><code> docker exec -it mocktail-bird-mongo /bin/bash</code></p>
<p>the above command opens the conatiner folder and run <code>mongo</code> command. That will make you enter to mongodb console. enter below command to create a user to access the <b>mocktail</b> db</p>
<pre><code class="language-mongojs">// enter into admin db
use admin;
db.getUsers();
//create admin user to create new user and roles
db.createUser({
    user: &quot;mockbird&quot;,
    pwd: &quot;Ilovethisbird&quot;,
    roles: [ { role: &quot;readWrite&quot;, db: &quot;admin&quot; },
    				{ role: &quot;read&quot;, db: &quot;reporting&quot; } ]}
);
//create user to read, write record to moctail db
db.createUser({
    user: &quot;adam&quot;,
    pwd: &quot;adamjohn&quot;,
    roles: [ { role: &quot;readWrite&quot;, db: &quot;mocktail&quot; },
             { role: &quot;read&quot;, db: &quot;reporting&quot; } ]
  }
);
//Authenticat the user
db.auth(&quot;adam&quot;,&quot;adamjohn&quot;)
</code></pre>
<p>‚úîÔ∏è check if mongodb conatiner created:</p>
<p>‚Äã	 <code>docker ps -a</code></p>
<p>‚Äã	<i>* If this container is restarted all the data is lost and all the steps 2,3 needs to be done again. Will be implementing ‚Äîvolume of docker container soon to avoid data loss.</i></p>
</li>
<li>
<p>üí∏ Starting mocktail-bird application container</p>
<pre><code class="language-cmd">  docker run -it -p 9080:9080 --network=mongodb --name mockatail-bird-qa mocktailbird/mocktail-bird:qa
</code></pre>
<p><i>	* network connects db and this application container.</i>
<i> * name of this conatiner is mockatail-bird-qa.</i>
<i>	* mocktailbird/mocktail-bird:qa  is the docker hub image for conatiner creation</i></p>
</li>
<li>
<p>‚úîÔ∏è Check application running.</p>
<blockquote>
<p>http://localhost:9080/swagger-ui.html</p>
</blockquote>
<p>create a mock url using createmock api.</p>
</li>
<li>
<p>:dancer: Have  üçπ :bird:  app to mock all your apis in few mins.</p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../mocktailbird/Mongodb.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../mocktailbird/MocktailBird-docker-cmd.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../mocktailbird/Mongodb.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../mocktailbird/MocktailBird-docker-cmd.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
